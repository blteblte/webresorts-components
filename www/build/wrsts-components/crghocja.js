/*! Built with http://stenciljs.com */
const{h:e}=window.WrstsComponents;class t{constructor(){this.wrstsSelectOptions=[]}onSelectedIndexChanged(e,t){void 0!==e&&null!==e&&NaN!==parseInt(e,10)?e!==t&&this.selectOptionByIndex(parseInt(e,10)):this.unselectAllOptions()}onSelectedValueChanged(e,t){void 0!==e&&null!==e&&""!==e?e!==t&&this.selectOptionByValue(e):this.unselectAllOptions()}onDocumentClick(e){e.target!==this.wrstsSelectSelect&&this.showDropdown&&(this.showDropdown=!1)}get selectedOption(){return this.wrstsSelectOptions.find(e=>e.selected)}get selectedText(){return this.selectedOption?this.selectedOption.getSlot().innerText:this.placeholder||""}componentDidLoad(){this.select=this.wrstsSelect.querySelector("select"),this.wrstsSelectOptions=Array.prototype.slice.call(this.wrstsSelect.querySelectorAll("wrsts-select-option")),this.wrstsSelectSelect=this.wrstsSelect.querySelector(".wrsts-select-select"),this.wrstsSelectOptions.forEach((e,t)=>{e.addEventListener("clicked",()=>{this.selectIndex(t)})})}selectIndex(e){this.wrstsSelect.setAttribute("selected-index",e.toString())}selectValue(e){this.wrstsSelect.setAttribute("selected-value",e)}selectOptionByIndex(e){this.wrstsSelectOptions.forEach((t,s)=>{s!==e?t.unselect():t.select()}),this.select.selectedIndex=e,this.change.emit()}selectOptionByValue(e){this.wrstsSelectOptions.forEach((t,s)=>{t.value!==e?t.unselect():(t.select(),this.select.selectedIndex=s)}),this.change.emit()}unselectAllOptions(){this.wrstsSelectOptions.forEach(e=>e.unselect())}onSelectClicked(){this.showDropdown=!this.showDropdown}getOptionsVisibilityClass(){return this.showDropdown?"visible":"hidden"}render(){return e("div",null,e("select",{name:this.name,id:this.id},this.wrstsSelectOptions.map(t=>e("option",{value:t.value},t.getSlot().innerText))),e("div",{onClick:this.onSelectClicked.bind(this),class:"wrsts-select-select "+this.getOptionsVisibilityClass()},this.selectedText),e("div",{class:"wrsts-select-options "+this.getOptionsVisibilityClass()},e("slot",null)))}static get is(){return"wrsts-select"}static get properties(){return{id:{type:String,attr:"id"},name:{type:String,attr:"name"},placeholder:{type:String,attr:"placeholder"},search:{type:Boolean,attr:"search"},selectedIndex:{type:String,attr:"selected-index",watchCallbacks:["onSelectedIndexChanged"]},selectedValue:{type:String,attr:"selected-value",watchCallbacks:["onSelectedValueChanged"]},selectIndex:{method:!0},selectValue:{method:!0},showDropdown:{state:!0},wrstsSelect:{elementRef:!0},wrstsSelectOptions:{state:!0}}}static get events(){return[{name:"change",method:"change",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"\@charset \"UTF-8\";\@keyframes wrsts-select-in{0%{opacity:0;transform:translateY(-2%)}100%{opacity:1;transform:translateY(0)}}wrsts-select{color:#595959;display:inline-block;position:relative}wrsts-select select{display:none}wrsts-select .wrsts-select-select{cursor:pointer;user-select:none;padding:6px 30px 6px 10px;background-color:#f1f1f1;border:1px solid #595959;min-width:200px}wrsts-select .wrsts-select-select:after{content:'â–¾';position:absolute;right:8px}wrsts-select .wrsts-select-select.visible:after{transform:rotate(180deg)}wrsts-select .wrsts-select-options{position:absolute;width:99.9%;user-select:none;border:1px solid #d9d9d9;animation:wrsts-select-in .2s ease-in-out}wrsts-select .wrsts-select-options.hidden{display:none}wrsts-select .wrsts-select-options.visible{display:block}"}}class s{componentDidLoad(){this.slotElement=this.wrstsSelectOption.children[0]}getSlot(){return this.slotElement}select(){this.selected||this.wrstsSelectOption.setAttribute("selected","true")}unselect(){this.selected&&this.wrstsSelectOption.removeAttribute("selected")}render(){return e("div",{onClick:e=>this.clicked.emit(e)},e("slot",null))}static get is(){return"wrsts-select-option"}static get properties(){return{getSlot:{method:!0},select:{method:!0},selected:{type:Boolean,attr:"selected",mutable:!0},unselect:{method:!0},value:{type:String,attr:"value"},wrstsSelectOption:{elementRef:!0}}}static get events(){return[{name:"clicked",method:"clicked",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"wrsts-select-option{display:block;padding:4px 6px;background-color:#f7f7f7;cursor:default;user-select:none;transition:background-color .2s ease-in-out}wrsts-select-option[selected]{background-color:#fff}wrsts-select-option:hover{background-color:#fdfdfd}"}}export{t as WrstsSelect,s as WrstsSelectOption};