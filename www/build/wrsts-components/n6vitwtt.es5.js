/*! Built with http://stenciljs.com */
WrstsComponents.loadBundle("n6vitwtt",["exports"],function(e){var t=window.WrstsComponents.h,s=function(){function e(){this.wrstsSelectOptions=[]}return e.prototype.onSelectedIndexChanged=function(e,t){void 0!==e&&null!==e&&NaN!==parseInt(e,10)?e!==t&&this.selectOptionByIndex(parseInt(e,10)):this.unselectAllOptions()},e.prototype.onSelectedValueChanged=function(e,t){void 0!==e&&null!==e&&""!==e?e!==t&&this.selectOptionByValue(e):this.unselectAllOptions()},e.prototype.onDocumentClick=function(e){e.target!==this.wrstsSelectSelect&&e.target!==this.input?(this.showDropdown&&this.toggleDropdown(!1),this.focused&&this.wrstsSelect.removeAttribute("focused")):this.wrstsSelect.setAttribute("focused","true")},e.prototype.handleUp=function(e){if(this.showDropdown){e.preventDefault();var t=0,s=this.wrstsSelectOptions.findIndex(function(e){return e.focused});s>0&&(t=s-1),s>-1&&this.wrstsSelectOptions[s].unfocus();var n=this.wrstsSelectOptions[t];if(n.hidden){for(var o=!1,i=!1,r=t;!i;)this.wrstsSelectOptions[r].hidden||(this.wrstsSelectOptions[r].focus(),i=!0,o=!0),0===r&&(i=!0),r--;o||this.wrstsSelectOptions[s].focus()}else n.focus()}},e.prototype.handleDown=function(e){if(this.showDropdown){e.preventDefault();var t=0,s=this.wrstsSelectOptions.length,n=this.wrstsSelectOptions.findIndex(function(e){return e.focused});n>-1&&(t=n+1),t>s-1&&(t=s-1),n>-1&&this.wrstsSelectOptions[n].unfocus();var o=this.wrstsSelectOptions[t];if(o.hidden){for(var i=!1,r=!1,c=t;!r;)this.wrstsSelectOptions[c].hidden||(this.wrstsSelectOptions[c].focus(),r=!0,i=!0),c===this.wrstsSelectOptions.length-1&&(r=!0),c++;i||this.wrstsSelectOptions[n].focus()}else o.focus()}},e.prototype.handleEnter=function(e){if(!this.showDropdown)return this.focused?void this.toggleDropdown(!0):void 0;e.preventDefault();var t=this.wrstsSelectOptions.findIndex(function(e){return e.focused});this.selectIndex(t),this.toggleDropdown(!1)},Object.defineProperty(e.prototype,"selectedOption",{get:function(){return this.wrstsSelectOptions.find(function(e){return e.selected})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedText",{get:function(){return this.selectedOption?this.selectedOption.getSlot().innerText:this.placeholder||""},enumerable:!0,configurable:!0}),e.prototype.componentDidLoad=function(){var e=this;this.select=this.wrstsSelect.querySelector("select"),this.wrstsSelectOptions=Array.prototype.slice.call(this.wrstsSelect.querySelectorAll("wrsts-select-option")),this.wrstsSelectSelect=this.wrstsSelect.querySelector(".wrsts-select-select"),this.wrstsSelectOptions.forEach(function(t,s){t.addEventListener("clicked",function(){e.selectIndex(s)}),t.selected&&e.selectIndex(s)}),this.input=this.wrstsSelect.querySelector("input")},e.prototype.selectIndex=function(e){this.wrstsSelect.setAttribute("selected-index",e.toString())},e.prototype.selectValue=function(e){this.wrstsSelect.setAttribute("selected-value",e)},e.prototype.selectOptionByIndex=function(e){this.wrstsSelectOptions.forEach(function(t,s){s!==e?(t.unselect(),t.unfocus()):(t.select(),t.focus())}),this.select.selectedIndex=e,this.change.emit()},e.prototype.selectOptionByValue=function(e){var t=this;this.wrstsSelectOptions.forEach(function(s,n){s.value!==e?(s.unselect(),s.unfocus()):(s.select(),s.focus(),t.select.selectedIndex=n)}),this.change.emit()},e.prototype.unselectAllOptions=function(){this.wrstsSelectOptions.forEach(function(e){e.unselect(),e.unfocus()})},e.prototype.onSelectClicked=function(){this.toggleDropdown()},e.prototype.toggleDropdown=function(e){var t=this;void 0===e&&(e=null),this.showDropdown=null===e?!this.showDropdown:e,this.showDropdown&&this.search&&setTimeout(function(){t.input.focus()},100)},e.prototype.getOptionsVisibilityClass=function(){return this.showDropdown?"visible":"hidden"},e.prototype.handleSearch=function(e){var t=e.target.value;this.wrstsSelectOptions.forEach(function(e){var s=!1;e.getSlot().innerText.toLowerCase().indexOf(t.toLowerCase())>-1&&(s=!0),e.value.toLowerCase().indexOf(t.toLowerCase())>-1&&(s=!0),s?e.unhide():e.hide()})},e.prototype.render=function(){return t("div",null,t("select",{name:this.name,id:this.id},this.wrstsSelectOptions.map(function(e){return t("option",{value:e.value},e.getSlot().innerText)})),t("div",{onClick:this.onSelectClicked.bind(this),class:"wrsts-select-select "+this.getOptionsVisibilityClass()},this.selectedText),t("div",{class:"wrsts-select-options "+this.getOptionsVisibilityClass()},this.search?t("div",null,t("input",{onKeyUp:this.handleSearch.bind(this),type:"text"})):null,t("slot",null)))},Object.defineProperty(e,"is",{get:function(){return"wrsts-select"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{focused:{type:Boolean,attr:"focused"},id:{type:String,attr:"id"},name:{type:String,attr:"name"},placeholder:{type:String,attr:"placeholder"},search:{type:Boolean,attr:"search"},selectedIndex:{type:String,attr:"selected-index",watchCallbacks:["onSelectedIndexChanged"]},selectedValue:{type:String,attr:"selected-value",watchCallbacks:["onSelectedValueChanged"]},selectIndex:{method:!0},selectValue:{method:!0},showDropdown:{state:!0},wrstsSelect:{elementRef:!0},wrstsSelectOptions:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"change",method:"change",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"\@charset \"UTF-8\";\@keyframes wrsts-select-in{0%{opacity:0;transform:translateY(-2%)}100%{opacity:1;transform:translateY(0)}}wrsts-select{color:#595959;display:inline-block;position:relative;transition:box-shadow .2s ease-in-out}wrsts-select select{display:none}wrsts-select[focused]{box-shadow:0 0 4px rgba(150,150,150,.8)}wrsts-select input{border:1px solid #d9d9d9;color:#595959;outline:0;padding:4px 8px;width:93%}wrsts-select .wrsts-select-select{cursor:pointer;user-select:none;padding:6px 30px 6px 10px;background-color:#f1f1f1;border:1px solid #595959;min-width:200px;min-height:20px}wrsts-select .wrsts-select-select:after{content:'â–¾';position:absolute;right:8px}wrsts-select .wrsts-select-select.visible:after{transform:rotate(180deg)}wrsts-select .wrsts-select-options{position:absolute;width:99%;user-select:none;border:1px solid #d9d9d9;animation:wrsts-select-in .2s ease-in-out;background-color:#f1f1f1}wrsts-select .wrsts-select-options.hidden{display:none}wrsts-select .wrsts-select-options.visible{display:block}"},enumerable:!0,configurable:!0}),e}(),n=function(){function e(){}return e.prototype.componentDidLoad=function(){this.slotElement=this.wrstsSelectOption.children[0]},e.prototype.getSlot=function(){return this.slotElement},e.prototype.select=function(){this.selected||this.wrstsSelectOption.setAttribute("selected","true")},e.prototype.unselect=function(){this.selected&&this.wrstsSelectOption.removeAttribute("selected")},e.prototype.focus=function(){this.focused||this.wrstsSelectOption.setAttribute("focused","true")},e.prototype.unfocus=function(){this.focused&&this.wrstsSelectOption.removeAttribute("focused")},e.prototype.hide=function(){this.hidden||this.wrstsSelectOption.setAttribute("hidden","true")},e.prototype.unhide=function(){this.hidden&&this.wrstsSelectOption.removeAttribute("hidden")},e.prototype.render=function(){var e=this;return t("div",{onClick:function(t){return e.clicked.emit(t)}},t("slot",null))},Object.defineProperty(e,"is",{get:function(){return"wrsts-select-option"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{focus:{method:!0},focused:{type:Boolean,attr:"focused",mutable:!0},getSlot:{method:!0},hidden:{type:Boolean,attr:"hidden",mutable:!0},hide:{method:!0},select:{method:!0},selected:{type:Boolean,attr:"selected",mutable:!0},unfocus:{method:!0},unhide:{method:!0},unselect:{method:!0},value:{type:String,attr:"value"},wrstsSelectOption:{elementRef:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"clicked",method:"clicked",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"wrsts-select-option{display:block;padding:4px 6px;background-color:#f7f7f7;cursor:default;user-select:none;transition:background-color .2s ease-in-out}wrsts-select-option[selected]{background-color:#fff}wrsts-select-option:hover{background-color:#fff}wrsts-select-option[focused]{background-color:#dedede}wrsts-select-option[hidden]{display:none}"},enumerable:!0,configurable:!0}),e}();e.WrstsSelect=s,e.WrstsSelectOption=n,Object.defineProperty(e,"__esModule",{value:!0})});