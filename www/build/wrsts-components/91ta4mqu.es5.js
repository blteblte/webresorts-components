/*! Built with http://stenciljs.com */
WrstsComponents.loadBundle("91ta4mqu",["exports"],function(t){var e=window.WrstsComponents.h;function n(t){return t&&"[object Function]"==={}.toString.call(t)}var o=function(){function t(){}return t.prototype.componentDidLoad=function(){this.bind()},t.prototype.bind=function(){this.formElements=Array.prototype.slice.call(this.wrstsJsonForm.querySelectorAll("wrsts-checkbox, wrsts-select, wrsts-tinymce")),this.form=this.wrstsJsonForm.querySelector("form")},t.prototype.toJson=function(t){return void 0===t&&(t=0),this.formElements.reduce(function(e,n){return e.push(n.toJson(t)),e},[])},t.prototype.submit=function(t,e){void 0===e&&(e=0),!this.ajax&&this.form?this.submiSync():this.submitAsyncJson(t,e)},t.prototype.submiSync=function(){this.form.submit(),this.submitted.emit()},t.prototype.submitAsyncJson=function(t,e){var o=this;void 0===e&&(e=0);var r=this.toJson(e);(function(t,e,n){return new Promise(function(o,r){var s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&200===s.status?o(s.responseText):4==s.readyState&&200!==s.status&&r(s)},s.open(e,t,!0),s.send(n)})})(this.action,this.method,JSON.stringify(r)).then(function(e){n(t)&&t(e),o.submitted.emit(e)}).catch(function(e){n(t)&&t(e),o.submitted.emit(e)})},t.prototype.render=function(){return e("div",null,this.ajax?e("slot",null):e("form",{action:this.action,method:this.method,target:this.target,novalidate:!0},e("slot",null)))},Object.defineProperty(t,"is",{get:function(){return"wrsts-json-form"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{action:{type:String,attr:"action"},ajax:{type:Boolean,attr:"ajax"},bind:{method:!0},method:{type:String,attr:"method"},submit:{method:!0},target:{type:String,attr:"target"},toJson:{method:!0},wrstsJsonForm:{elementRef:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"submitted",method:"submitted",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),t}();t.WrstsJsonForm=o,Object.defineProperty(t,"__esModule",{value:!0})});